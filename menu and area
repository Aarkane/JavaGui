import java.awt.event.ActionEvent;
import java.io.FileFilter;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;

import javax.swing.AbstractAction;
import javax.swing.Action;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.filechooser.FileNameExtensionFilter;

public class TextEditor extends JFrame {

	private static final JMenuItem Save = null;
	private static final JMenuItem Exit = null;
	JTextArea textArea = new JTextArea(20,60);
	JFileChooser filec = new JFileChooser();
	
	public TextEditor() {
		
		JScrollPane scrollPane = new JScrollPane(textArea, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);
	
	FileNameExtensionFilter txtFilter = new FileNameExtensionFilter("Plain text", "txt");
	filec.setFileFilter(txtFilter);
	
	
	JMenuBar menuBar = new JMenuBar();
	setJMenuBar(menuBar);
	JMenu file = new JMenu("File");
	menuBar.add(file);
	
	file.add(Open);
	file.add(Save);
	file.addSeparator();
	file.add(Exit);
	setDefaultCloseOperation(EXIT_ON_CLOSE);
	pack();
	setLocationRelativeTo(null);
	setVisible(true);
	
	}
	
	Action Open = new AbstractAction("Open File") {
		public void actionPreformed(ActionEvent e) {
			if(filec.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {
				openFile(filec.getSelectedFile().getAbsolutePath());
			}
		}
	Action Save = new AbstractAction("Save File") {
			public void actionPrefromed(ActionEvent e) {
				saveFile();
	
		}
	};
	
	Action Exit = new AbstractAction("Exit") {
			public void actionPrefromed(ActionEvent e) {
				System.exit(0);
				
	    }
	
	
	public void openFile1(String fileName) {
		FileReader fr = null;
				try {
					fr = new FileReader(fileName);
					textArea.read(fr,null);
					fr.close();
					setTitle(fileName);
				} catch (IOException e) {
					e.printStackTrace();
				}
	}
	
	public void saveFile() {
		if(filec.showSaveDialog(null) == JFileChooser.APPROVE_OPTION) {
			FileWriter  fw = null;
		try {
			fw = new FileWriter(filec.getSelectedFile().getAbsolutePath() + ".txt");
			textArea.write(fw);
			fw.close();
		}	catch (IOException e) {
			e.printStackTrace();
		}
		}
		}
	
		public void actionPerformed(ActionEvent e) {
			// TODO Auto-generated method stub
			
		}
	
	
	

